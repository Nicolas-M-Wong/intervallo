<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="css-home.css">
<link rel="alternate" href="home-big-screen.html" id="big-screen">
<link rel="alternate" href="home-landscape-screen.html" id="landscape-screen">

<meta name="viewport" content="width=device-width, initial-scale=1.0", charset="UTF-8">
<style>
	/* Swipe animation styles */
	.swipe-left {
		animation: swipeLeft 0.5s forwards;
	}

	.swipe-right {
		animation: swipeRight 0.5s forwards;
	}

	.swipe-up {
		animation: swipeUp 0.5s forwards;
	}

	.swipe-down {
		animation: swipeDown 0.5s forwards;
	}

	@keyframes swipeLeft {
		from {
			transform: translateX(0);
			opacity: 1;
		}
		to {
			transform: translateX(-100vw);
			opacity: 0;
		}
	}

	@keyframes swipeRight {
		from {
			transform: translateX(0);
			opacity: 1;
		}
		to {
			transform: translateX(100vw);
			opacity: 0;
		}
	}

	@keyframes swipeUp {
		from {
			transform: translateY(0);
			opacity: 1;
		}
		to {
			transform: translateY(-100vh);
			opacity: 0;
		}
	}

	@keyframes swipeDown {
		from {
			transform: translateY(0);
			opacity: 1;
		}
		to {
			transform: translateY(100vh);
			opacity: 0;
		}
	}
</style>
<title>Intervallom√®tre</title>

</head>

<body id="screen-container" data-page="home" data-mode="dark">

<div id="phone-screen" class="phone-screen-class">
<div class="container" id="main" data-mode="dark">

<div id="header-bar" class="header-bar" data-mode="dark">
	<div id="left-side" class="flex-column-title">
	<span id="timer-header">hh:mm</span>
	<span id="logo">üîã</span>
	<span id="battery-header">xx%</span>
	</div>
	<div id="right-side" class="flex-column-title">
		<a id="toggle-mode">
		<div class="circle" id="half-circle" data-mode="dark"></div>
		</a>

		<a class="checkbox-round-sleep" value="sleep" onclick="serverEnd('sleep')">
		<div class="circle" id="full-circle-sleep"></div>
		</a>

		<a class="checkbox-round-shutdown" value="shutdown" onclick="serverEnd('shutdown')">
		<div class="circle" id="full-circle-shutdown"></div>
		</a>
		</div>
	</div>
<div id="notification" data-mode="hide">
	<div class="txt-notif"><span class="notification-title" id="notificationTitle">La s√©rie se termine √† X</span>
	</br><span class="notification-message" id="notificationMessage">X photos, exposition X sec.</span>
	</div>
    <div id="close-notif">
		<a id="toggle-notif">&#10006;</a>
	</div>
</div>

	<div class="param-submit">
	
        	<div class="flex-container-title">
            	<div class="flex-column-title">
        			<h3 class="Title-3">Param√®tres</h3>
        		</div>
    		</div>
    		
    		    <div class="container-wheel">
					<div class="wheel-wrapper">
						<div class="wheel-title">Photos</div>
						<div id="nb_photos" class="number-wheel"></div>
					   
					</div>
					<div class="wheel-wrapper">
						<div class="wheel-title">Expo</div>
						<div id="tmp_pose" class="number-wheel"></div>
					   
					</div>
					<div class="wheel-wrapper">
						<div class="wheel-title">Intervalle</div>
						<div id="enregistrement" class="number-wheel"></div>
						
					</div>
				</div>
				
				<form id="interval-Form">
					<input type="hidden" id="value1" name="value1">
					<input type="hidden" id="value2" name="value2">
					<input type="hidden" id="value3" name="value3">
					<button type="submit" id="form-submit" value="Ok" onclick="submitForm(event);">Ok</button>
				</form>
    	</div>
    
        <div id="confirmation" style="display: none;">
            <h3>Temps de prise de vue estim√© : </h3><h3 id="estimation_tmp"></h3>
            <form action = "" method="post" class = "confirmation-form">
                <div class="flex-column-confirm">
                    <button name="confirm" value="Confirmer" id="openDialogBox" onclick="handleButtonClick('No')">Confirmer</button>
                    <button name="test-shot" value="Photo_test" id="test-shot" onclick="handleButtonClick('Yes')">Photo test</button>
                </div>
            </form>
        </div>
    
        <dialog id="dialogBox" data-mode="dark">
            <h3 id="dialogBoxTitle"><h3>
            <h3 id="Compteur"></h3>
            <footer>
            <div class="back-button">
                <button id="back-button" onclick="handleButtonClickBack(event)" type="button">
                Retour </button>
            </div>
            </footer>
        </dialog>
		<div class="navbar-container">
			<nav class="navbar" id="navbar-id" data-mode="dark">
				<a name="photo-distance" id="photo-distance-L" onclick="remoteTrigger();changeColor('L');navigator.vibrate([250]);"><img src="ico-camera.ico" width="32" height="32" alt="D√©clencheur"></a>
				<a name="intervallo-home" id="intervallo-home" onclick="changePage('home-V1');"><img width="32" height="32" src="ico-intervallo.ico" ></a>
				<a name="photo-distance" id="photo-distance-R" onclick="remoteTrigger();changeColor('R');navigator.vibrate([250]);"><img src="ico-camera.ico" width="32" height="32" alt="D√©clencheur"></a>
			</nav>
		</div>
    </div>
    
    <div id="shutdown" class="shutdown-class" data-mode="dark">
		<div id="shutdown-inf">
        <div class="shutdown-wrapper" id="shutdown-wrapper" data-mode="dark">
            <div class="shutdown-content" data-mode="dark">
                <h1 class="shutdown-title">Bonne nuit!</h1>
                <p class="shutdown-message">L'intervallom√®tre va s'√©teindre dans 15 sec</p>
            </div>
            <div class="loading-wrapper">
                <div class="rotating-object"></div>
            </div>
        </div>
		</div>
    </div>
</div>

<!-- ------------------------------------------------------------------------------- -->

<script src="wheel-constructor.js"></script>
<script src="js-home.js"></script>
<script>
	// Variables to store touch positions
	let startX, startY, endX, endY;
	const minSwipeDistance = 0.5; // 50% of the viewport height or width

	// Function to handle the start of a touch event
	function handleTouchStart(event) {
		startX = event.touches[0].clientX;
		startY = event.touches[0].clientY;
	}

	// Function to handle the end of a touch event
	function handleTouchEnd(event) {
		const minSwipeDistanceX = viewportWidth * minSwipeDistance;
		const minSwipeDistanceY = viewportHeight * minSwipeDistance;
		endX = event.changedTouches[0].clientX;
		endY = event.changedTouches[0].clientY;

		const diffX = endX - startX;
		const diffY = endY - startY;

		if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > minSwipeDistanceX) {
			// Horizontal swipe
			if (diffX > 0) {
				// console.log('Swiped right!');
				changePage('home-V1');
			} else {
				// console.log('Swiped left!');
				changePage('home-V1');
			}
		} else {
			// Vertical swipe
			if (diffY > 0) {
				// console.log('Swiped down!');
				
			} else {
				// console.log('Swiped up!');
				
			}
		}
	}

	// Attach touch event listeners to the swipe area
	const swipeArea = document.getElementById('screen-container');
	swipeArea.addEventListener('touchstart', handleTouchStart);
	swipeArea.addEventListener('touchend', handleTouchEnd);

</script>
</body>
</html>
